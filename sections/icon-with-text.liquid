{{ 'component-icon-with-text.css' | asset_url | stylesheet_tag }}

{%- style -%}
  .section-{{ section.id }}-padding {
    padding-top: {{ section.settings.padding_top | times: 0.75 | round: 0 }}px;
    padding-bottom: {{ section.settings.padding_bottom | times: 0.75 | round: 0 }}px;
  }

  .section-{{ section.id }}-padding .icon-with-text__icon-svg {
    width: {{ section.settings.icon_width }}px;
    display: flex;
    align-items: center;
    justify-content: center;
    align-self: {{ section.settings.icon_alignment }};
  }

  .section-{{ section.id }}-padding .icon-with-text__icon-svg svg {
    width: 100%;
    height: 100%;
    fill: currentColor;
  }

  @media screen and (min-width: 750px) {
    .section-{{ section.id }}-padding {
      padding-top: {{ section.settings.padding_top }}px;
      padding-bottom: {{ section.settings.padding_bottom }}px;
    }
  }
{%- endstyle -%}

<div class="icon-with-text color-{{ section.settings.color_scheme }} gradient section-{{ section.id }}-padding{% if section.settings.orientation == 'row' %} icon-with-text--horizontal{% endif %}{% if section.settings.icon_placement == 'second' %} icon-with-text--reverse{% endif %}" style="text-align: {{ section.settings.alignment }};">
  <div class="page-width">
    <div class="icon-with-text__container">
      <div class="icon-with-text__icon-svg">
        {%- if section.settings.icon != blank -%}
          {{ section.settings.icon | image_url: width: section.settings.icon_width | image_tag:
            class: 'icon',
            alt: section.settings.icon.alt
          }}
        {%- else -%}
          {%- assign icon_file = 'icon-' | append: section.settings.icon_name | append: '.svg' -%}
          {{ icon_file | inline_asset_content }}
        {%- endif -%}
      </div>
      <div class="icon-with-text__text">
        {%- if section.settings.title != blank -%}
          <h2 class="h1">{{ section.settings.title }}</h2>
        {%- endif -%}
        {%- if section.settings.text != blank -%}
          <div class="rte">{{ section.settings.text }}</div>
        {%- endif -%}
      </div>
    </div>
  </div>
</div>

{% schema %}
{
  "name": "Icon with text",
  "tag": "section",
  "class": "section",
  "settings": [
    {
      "type": "image_picker",
      "id": "icon",
      "label": "Custom icon"
    },
    {
      "type": "select",
      "id": "icon_name",
      "label": "Icon",
      "options": [
        {
          "value": "",
          "label": "None"
        },
        {
          "value": "3d-model",
          "label": "3D Model"
        },
        {
          "value": "account",
          "label": "Account"
        },
        {
          "value": "apple",
          "label": "Apple"
        },
        {
          "value": "banana",
          "label": "Banana"
        },
        {
          "value": "bottle",
          "label": "Bottle"
        },
        {
          "value": "box",
          "label": "Box"
        },
        {
          "value": "carrot",
          "label": "Carrot"
        },
        {
          "value": "chat-bubble",
          "label": "Chat Bubble"
        },
        {
          "value": "check-mark",
          "label": "Check Mark"
        },
        {
          "value": "clipboard",
          "label": "Clipboard"
        },
        {
          "value": "dairy",
          "label": "Dairy"
        },
        {
          "value": "dairy-free",
          "label": "Dairy Free"
        },
        {
          "value": "heart",
          "label": "Heart"
        },
        {
          "value": "info",
          "label": "Info"
        },
        {
          "value": "inventory-status",
          "label": "Inventory Status"
        },
        {
          "value": "iron",
          "label": "Iron"
        },
        {
          "value": "leaf",
          "label": "Leaf"
        },
        {
          "value": "leather",
          "label": "Leather"
        },
        {
          "value": "lightning-bolt",
          "label": "Lightning Bolt"
        },
        {
          "value": "lipstick",
          "label": "Lipstick"
        },
        {
          "value": "lock",
          "label": "Lock"
        },
        {
          "value": "map-pin",
          "label": "Map Pin"
        },
        {
          "value": "minus",
          "label": "Minus"
        },
        {
          "value": "nut-free",
          "label": "Nut Free"
        },
        {
          "value": "p-tag",
          "label": "Price Tag"
        },
        {
          "value": "padlock",
          "label": "Padlock"
        },
        {
          "value": "pants",
          "label": "Pants"
        },
        {
          "value": "pause",
          "label": "Pause"
        },
        {
          "value": "paw-print",
          "label": "Paw Print"
        },
        {
          "value": "pinterest",
          "label": "Pinterest"
        },
        {
          "value": "plane",
          "label": "Plane"
        },
        {
          "value": "plant",
          "label": "Plant"
        },
        {
          "value": "play",
          "label": "Play"
        },
        {
          "value": "plus",
          "label": "Plus"
        },
        {
          "value": "price-tag",
          "label": "Price Tag"
        },
        {
          "value": "question-mark",
          "label": "Question Mark"
        },
        {
          "value": "recycle",
          "label": "Recycle"
        },
        {
          "value": "remove",
          "label": "Remove"
        },
        {
          "value": "reset",
          "label": "Reset"
        },
        {
          "value": "return",
          "label": "Return"
        },
        {
          "value": "ruler",
          "label": "Ruler"
        },
        {
          "value": "search",
          "label": "Search"
        },
        {
          "value": "serving-dish",
          "label": "Serving Dish"
        },
        {
          "value": "share",
          "label": "Share"
        },
        {
          "value": "shirt",
          "label": "Shirt"
        },
        {
          "value": "shoe",
          "label": "Shoe"
        },
        {
          "value": "silhouette",
          "label": "Silhouette"
        },
        {
          "value": "snapchat",
          "label": "Snapchat"
        },
        {
          "value": "snowflake",
          "label": "Snowflake"
        },
        {
          "value": "star",
          "label": "Star"
        },
        {
          "value": "stopwatch",
          "label": "Stopwatch"
        },
        {
          "value": "success",
          "label": "Success"
        },
        {
          "value": "tick",
          "label": "Tick"
        },
        {
          "value": "tiktok",
          "label": "TikTok"
        },
        {
          "value": "truck",
          "label": "Truck"
        },
        {
          "value": "tumblr",
          "label": "Tumblr"
        },
        {
          "value": "twitter",
          "label": "Twitter"
        },
        {
          "value": "unavailable",
          "label": "Unavailable"
        },
        {
          "value": "vimeo",
          "label": "Vimeo"
        },
        {
          "value": "washing",
          "label": "Washing"
        },
        {
          "value": "youtube",
          "label": "YouTube"
        },
        {
          "value": "zoom",
          "label": "Zoom"
        }
      ],
      "default": ""
    },
    {
      "type": "range",
      "id": "icon_width",
      "min": 40,
      "max": 200,
      "step": 10,
      "unit": "px",
      "label": "Icon width",
      "default": 100
    },
    {
      "type": "text",
      "id": "title",
      "label": "Heading",
      "default": "Icon with text"
    },
    {
      "type": "richtext",
      "id": "text",
      "label": "Text",
      "default": "<p>Pair text with an icon to focus on your store's features.</p>"
    },
    {
      "type": "select",
      "id": "orientation",
      "label": "Layout",
      "options": [
        {
          "value": "column",
          "label": "Column"
        },
        {
          "value": "row",
          "label": "Row"
        }
      ],
      "default": "column"
    },
    {
      "type": "select",
      "id": "icon_placement",
      "label": "Icon placement",
      "options": [
        {
          "value": "first",
          "label": "First"
        },
        {
          "value": "second",
          "label": "Second"
        }
      ],
      "default": "first"
    },
    {
      "type": "select",
      "id": "icon_alignment",
      "label": "Icon alignment",
      "options": [
        {
          "value": "flex-start",
          "label": "Left"
        },
        {
          "value": "center",
          "label": "Center"
        },
        {
          "value": "flex-end",
          "label": "Right"
        }
      ],
      "default": "center"
    },
    {
      "type": "select",
      "id": "alignment",
      "label": "Text alignment",
      "options": [
        {
          "value": "left",
          "label": "Left"
        },
        {
          "value": "center",
          "label": "Center"
        },
        {
          "value": "right",
          "label": "Right"
        }
      ],
      "default": "center"
    },
    {
      "type": "color_scheme",
      "id": "color_scheme",
      "label": "t:sections.all.colors.label",
      "default": "scheme-1"
    },
    {
      "type": "header",
      "content": "Section padding"
    },
    {
      "type": "range",
      "id": "padding_top",
      "min": 0,
      "max": 100,
      "step": 4,
      "unit": "px",
      "label": "Padding top",
      "default": 36
    },
    {
      "type": "range",
      "id": "padding_bottom",
      "min": 0,
      "max": 100,
      "step": 4,
      "unit": "px",
      "label": "Padding bottom",
      "default": 36
    }
  ],
  "presets": [
    {
      "name": "Icon with text",
      "settings": {
        "icon_name": "paw-print"
      }
    }
  ]
}
{% endschema %}